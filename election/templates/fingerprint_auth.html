<!-- In your HTML template -->
<script>
    async function fingerprintLogin() {
        if (window.PublicKeyCredential) {
            try {
                const credential = await navigator.credentials.get({
                    publicKey: {
                        // PublicKeyCredentialRequestOptions
                    }
                });
                // Send the credential to your server for verification
                fetch('/fingerprint-auth', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-CSRFToken': '{{ csrf_token }}'
                    },
                    body: JSON.stringify(credential)
                }).then(response => {
                    if (response.ok) {
                        window.location.href = '/vote';
                    } else {
                        alert('Fingerprint authentication failed');
                    }
                });
            } catch (error) {
                console.error('Error during fingerprint authentication:', error);
            }
        } else {
            alert('Fingerprint authentication not supported');
        }
    }
    </script>
    
    <button onclick="fingerprintLogin()">Login with Fingerprint</button>
    